{
  "nodes": [
    {
      "nodeId": "main",
      "description": "Main workflow node",
      "systemPrompt": "You are a helpful assistant. Complete the task as requested.",
      "modelName": "openai/gpt-4.1-mini",
      "mcpTools": [],
      "codeTools": [],
      "handOffs": ["root_cause_analyzer"],
      "memory": {
        "django_username_validation": "bug_fix:Django's UsernameValidator allows trailing newlines due to regex using '$' instead of '\\Z':2"
      }
    },
    {
      "nodeId": "root_cause_analyzer",
      "description": "Analyzes the root cause of the RabbitMQ Unicode authentication failure and outlines the fix approach",
      "systemPrompt": "You are an analysis specialist. Your job is to:\n1. Analyze the root cause of the RabbitMQ integration failure with Unicode usernames/passwords.\n2. Confirm that the 'requests' library defaults to 'latin1' encoding causing the issue.\n3. Outline the fix approach to explicitly encode credentials in 'utf-8'.\n4. Provide detailed implementation steps for the fix.\n5. Hand off to code_implementer for patch creation.",
      "modelName": "openai/gpt-4.1",
      "mcpTools": [],
      "codeTools": ["runInspector"],
      "handOffs": ["code_implementer"],
      "memory": {}
    },
    {
      "nodeId": "code_implementer",
      "description": "Implements the patch to explicitly encode RabbitMQ credentials in 'utf-8' before passing to 'requests'",
      "systemPrompt": "You are a code implementation specialist focused on:\n1. Implementing the patch to fix RabbitMQ Unicode authentication by encoding credentials in 'utf-8'.\n2. Avoid unrelated changes.\n3. Use runInspector to verify file changes.\n4. Provide clear, minimal patch code.\n5. Ensure correctness and consistency.\n6. Hand off to patch_verifier for focused verification.",
      "modelName": "openai/gpt-4.1",
      "mcpTools": [],
      "codeTools": ["runInspector"],
      "handOffs": ["patch_verifier"],
      "memory": {}
    },
    {
      "nodeId": "patch_verifier",
      "description": "Verifies that the patch correctly encodes credentials in 'utf-8' and no unrelated changes are present",
      "systemPrompt": "You are a patch verification specialist. Your job is to:\n1. Confirm the patch encodes RabbitMQ credentials in 'utf-8'.\n2. Ensure no unrelated changes are included.\n3. Use runInspector and jsExecutor to verify patch correctness and scope.\n4. If patch is incomplete or incorrect, request re-implementation.\n5. Hand off to patch_verification_report for detailed verification results.",
      "modelName": "openai/gpt-4.1",
      "mcpTools": [],
      "codeTools": ["runInspector", "jsExecutor"],
      "handOffs": ["patch_verification_report"],
      "memory": {}
    },
    {
      "nodeId": "patch_verification_report",
      "description": "Analyzes patch verification results and decides if patch is correct or needs re-implementation",
      "systemPrompt": "You are a verification report specialist. Your job is to:\n1. Analyze patch verification outputs.\n2. Confirm if patch correctly encodes credentials in 'utf-8' and no unrelated changes exist.\n3. If patch is correct, hand off to validator.\n4. If patch is incorrect or incomplete, hand off back to code_implementer for re-implementation with clear instructions.",
      "modelName": "openai/gpt-4.1-mini",
      "mcpTools": [],
      "codeTools": [],
      "handOffs": ["validator", "code_implementer"],
      "memory": {}
    },
    {
      "nodeId": "validator",
      "description": "Validates and tests the implemented code fix by running test cases and verifying the bug is resolved",
      "systemPrompt": "You are a code validation specialist. Your job is to:\n1. Create test cases reproducing the Unicode authentication bug.\n2. Test the fixed code to verify the bug is resolved.\n3. Test edge cases and boundary conditions.\n4. Use runInspector to analyze implementation.\n5. Provide a comprehensive validation report confirming the fix works correctly.\n6. Hand off to validation_report for final summary.",
      "modelName": "openai/gpt-4.1",
      "mcpTools": [],
      "codeTools": ["runInspector"],
      "handOffs": ["validation_report"],
      "memory": {}
    },
    {
      "nodeId": "validation_report",
      "description": "Generates a detailed validation report summarizing test results and confirming bug fix effectiveness",
      "systemPrompt": "You are a reporting specialist. Your job is to analyze the validation results and produce a clear, comprehensive report that confirms whether the bug fix is effective and if any further actions are needed. Summarize test outcomes, highlight any remaining issues, and provide recommendations.",
      "modelName": "openai/gpt-4.1-mini",
      "mcpTools": [],
      "codeTools": [],
      "handOffs": ["end"],
      "memory": {}
    }
  ],
  "entryNodeId": "main",
  "contextFile": null,
  "memory": null
}
