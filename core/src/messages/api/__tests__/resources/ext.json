{
  "steps": [
    {
      "content": [
        {
          "type": "tool-call",
          "toolCallId": "call_c80AsnIaBoV4CCx82cIgiDXi",
          "toolName": "tool1",
          "input": {}
        },
        {
          "type": "tool-call",
          "toolCallId": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
          "toolName": "tool3",
          "input": {
            "input": "Use both tool1 and tool3 to get results"
          }
        },
        {
          "type": "tool-result",
          "toolCallId": "call_c80AsnIaBoV4CCx82cIgiDXi",
          "toolName": "tool1",
          "input": {},
          "output": "result1",
          "dynamic": false
        },
        {
          "type": "tool-result",
          "toolCallId": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
          "toolName": "tool3",
          "input": {
            "input": "Use both tool1 and tool3 to get results"
          },
          "output": "final_Use both tool1 and tool3 to get results",
          "dynamic": false
        }
      ],
      "finishReason": "tool-calls",
      "usage": {
        "inputTokens": 75,
        "outputTokens": 50,
        "totalTokens": 125,
        "reasoningTokens": 0,
        "cachedInputTokens": 0
      },
      "warnings": [],
      "request": {
        "body": {
          "model": "openai/gpt-4.1-nano",
          "messages": [
            {
              "role": "user",
              "content": "Use both tool1 and tool3 to get results"
            }
          ],
          "tools": [
            {
              "type": "function",
              "function": {
                "name": "tool1",
                "description": "first tool - returns fixed value",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "input": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false,
                  "$schema": "http://json-schema.org/draft-07/schema#"
                }
              }
            },
            {
              "type": "function",
              "function": {
                "name": "tool3",
                "description": "third tool - returns final result",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "input": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "input"
                  ],
                  "additionalProperties": false,
                  "$schema": "http://json-schema.org/draft-07/schema#"
                }
              }
            }
          ],
          "tool_choice": "auto"
        }
      },
      "response": {
        "id": "gen-1758637324-08QR8Ojj3glzhGs0D8ma",
        "timestamp": "2025-09-23T14:22:05.770Z",
        "modelId": "openai/gpt-4.1-nano",
        "headers": {
          "access-control-allow-origin": "*",
          "cf-ray": "983ab1300c2e37c0-AMS",
          "connection": "keep-alive",
          "content-encoding": "gzip",
          "content-type": "application/json",
          "date": "Tue, 23 Sep 2025 14:22:07 GMT",
          "permissions-policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")",
          "referrer-policy": "no-referrer, strict-origin-when-cross-origin",
          "server": "cloudflare",
          "transfer-encoding": "chunked",
          "vary": "Accept-Encoding",
          "x-content-type-options": "nosniff"
        },
        "messages": [
          {
            "role": "assistant",
            "content": [
              {
                "type": "tool-call",
                "toolCallId": "call_c80AsnIaBoV4CCx82cIgiDXi",
                "toolName": "tool1",
                "input": {}
              },
              {
                "type": "tool-call",
                "toolCallId": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
                "toolName": "tool3",
                "input": {
                  "input": "Use both tool1 and tool3 to get results"
                }
              }
            ]
          },
          {
            "role": "tool",
            "content": [
              {
                "type": "tool-result",
                "toolCallId": "call_c80AsnIaBoV4CCx82cIgiDXi",
                "toolName": "tool1",
                "output": {
                  "type": "text",
                  "value": "result1"
                }
              },
              {
                "type": "tool-result",
                "toolCallId": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
                "toolName": "tool3",
                "output": {
                  "type": "text",
                  "value": "final_Use both tool1 and tool3 to get results"
                }
              }
            ]
          }
        ]
      },
      "providerMetadata": {
        "openrouter": {
          "provider": "OpenAI",
          "usage": {
            "promptTokens": 75,
            "completionTokens": 50,
            "totalTokens": 125,
            "promptTokensDetails": {
              "cachedTokens": 0
            },
            "completionTokensDetails": {
              "reasoningTokens": 0
            },
            "costDetails": {
              "upstreamInferenceCost": 0
            }
          }
        }
      }
    },
    {
      "content": [
        {
          "type": "text",
          "text": "Tool1 provided \"result1\" and Tool3 provided \"final_Use both tool1 and tool3 to get results\"."
        }
      ],
      "finishReason": "stop",
      "usage": {
        "inputTokens": 153,
        "outputTokens": 26,
        "totalTokens": 179,
        "reasoningTokens": 0,
        "cachedInputTokens": 0
      },
      "warnings": [],
      "request": {
        "body": {
          "model": "openai/gpt-4.1-nano",
          "messages": [
            {
              "role": "user",
              "content": "Use both tool1 and tool3 to get results"
            },
            {
              "role": "assistant",
              "content": "",
              "tool_calls": [
                {
                  "id": "call_c80AsnIaBoV4CCx82cIgiDXi",
                  "type": "function",
                  "function": {
                    "name": "tool1",
                    "arguments": "{}"
                  }
                },
                {
                  "id": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
                  "type": "function",
                  "function": {
                    "name": "tool3",
                    "arguments": "{\"input\":\"Use both tool1 and tool3 to get results\"}"
                  }
                }
              ]
            },
            {
              "role": "tool",
              "tool_call_id": "call_c80AsnIaBoV4CCx82cIgiDXi",
              "content": "result1"
            },
            {
              "role": "tool",
              "tool_call_id": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
              "content": "final_Use both tool1 and tool3 to get results"
            }
          ],
          "tools": [
            {
              "type": "function",
              "function": {
                "name": "tool1",
                "description": "first tool - returns fixed value",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "input": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false,
                  "$schema": "http://json-schema.org/draft-07/schema#"
                }
              }
            },
            {
              "type": "function",
              "function": {
                "name": "tool3",
                "description": "third tool - returns final result",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "input": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "input"
                  ],
                  "additionalProperties": false,
                  "$schema": "http://json-schema.org/draft-07/schema#"
                }
              }
            }
          ],
          "tool_choice": "auto"
        }
      },
      "response": {
        "id": "gen-1758637328-HUslu0GzKPzcIkrsQNca",
        "timestamp": "2025-09-23T14:22:07.197Z",
        "modelId": "openai/gpt-4.1-nano",
        "headers": {
          "access-control-allow-origin": "*",
          "cf-ray": "983ab144a98637c0-AMS",
          "connection": "keep-alive",
          "content-encoding": "gzip",
          "content-type": "application/json",
          "date": "Tue, 23 Sep 2025 14:22:09 GMT",
          "permissions-policy": "payment=(self \"https://checkout.stripe.com\" \"https://connect-js.stripe.com\" \"https://js.stripe.com\" \"https://*.js.stripe.com\" \"https://hooks.stripe.com\")",
          "referrer-policy": "no-referrer, strict-origin-when-cross-origin",
          "server": "cloudflare",
          "transfer-encoding": "chunked",
          "vary": "Accept-Encoding",
          "x-content-type-options": "nosniff"
        },
        "messages": [
          {
            "role": "assistant",
            "content": [
              {
                "type": "tool-call",
                "toolCallId": "call_c80AsnIaBoV4CCx82cIgiDXi",
                "toolName": "tool1",
                "input": {}
              },
              {
                "type": "tool-call",
                "toolCallId": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
                "toolName": "tool3",
                "input": {
                  "input": "Use both tool1 and tool3 to get results"
                }
              }
            ]
          },
          {
            "role": "tool",
            "content": [
              {
                "type": "tool-result",
                "toolCallId": "call_c80AsnIaBoV4CCx82cIgiDXi",
                "toolName": "tool1",
                "output": {
                  "type": "text",
                  "value": "result1"
                }
              },
              {
                "type": "tool-result",
                "toolCallId": "call_kFNeTkDIGdNm9q8pb6G2K5U9",
                "toolName": "tool3",
                "output": {
                  "type": "text",
                  "value": "final_Use both tool1 and tool3 to get results"
                }
              }
            ]
          },
          {
            "role": "assistant",
            "content": [
              {
                "type": "text",
                "text": "Tool1 provided \"result1\" and Tool3 provided \"final_Use both tool1 and tool3 to get results\"."
              }
            ]
          }
        ]
      },
      "providerMetadata": {
        "openrouter": {
          "provider": "OpenAI",
          "usage": {
            "promptTokens": 153,
            "completionTokens": 26,
            "totalTokens": 179,
            "promptTokensDetails": {
              "cachedTokens": 0
            },
            "completionTokensDetails": {
              "reasoningTokens": 0
            },
            "costDetails": {
              "upstreamInferenceCost": 0
            }
          }
        }
      }
    }
  ]
}